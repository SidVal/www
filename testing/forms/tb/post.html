<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Posting to Trending Bot</title>
    <link rel="icon" type="image/png" href="https://sidval.github.io/www/testing/forms/tb/favicon.ico">
    <!-- Bootstrap 4 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        body > .container {
        padding: 50px 15px 0;
        }
        .invalid {	
        border: 1px dotted red;
        border-bottom-style: double;
        border-bottom-width: 2px;
        }
        tr:hover, tr.selected {
        background-color: #87e454bf
        }
    </style>
</head>
<body>
    <header class="mb-4">
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark mb-4">
            <a href="/" class="navbar-brand">Inicio</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
            <!--//<div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item"><a href="#" class="nav-link disabled">Enlace 1</a></li>
                    <li class="nav-item"><a href="#" class="nav-link disabled">Enlace 2</a></li>
                </ul>
                <form class="form-inline mt-2 mt-md-0 d-none">
                        <input class="form-control mr-sm-2" type="text" placeholder="Buscar" aria-label="Buscar" id="buscar">
                      </form>
            </div>//-->
        </nav>
    </header>

<main role="main" class="bd-content container">
  <!--hero ini-->
    <div class="jumbotron">
        <h1 class="display-3">Formulario To Post!</h1>
        <!--//
        <p class="lead">Bla bla bla <span class="badge badge-success">¡BLA!</span></p>
        <p class="lead">
          <a class="btn btn-success" href="#" role="button">Enlace BLA</a>
        </p>
        <hr class="my-4">
        <p>Bla bla bla bla y más bla.<br><br>Si necesitas <span class="badge badge-info">ayuda</span>, en la parte inferior de la página encontrarás un enlace para tal fin.</p>
        //-->
        <hr class="my-4">
        <p><span class="badge badge-pill badge-light"><u>Nota:</u></span> quería aclarar que este código es de prueba.
        </p>
    </div>
    
    <!--hero fin-->
    <!-- form -->
    <div class="card">
    <div class="card-body row">
        <!-- FORMULARIO -->
        <div class="col-md-5">
            <form action="#" method="POST" id="form">
        <div class="form-row">
            <div class="form-group col-md-6 mb-3">
                <label for="tituloPost">Título:</label>
                <input type="text" name="tituloPost" placeholder="Título post" class="form-control" id="titulo" required>
            </div>
            <div class="form-group col-md-6 mb-3">
                <label for="urlPost">URL:</label>
                <input type="url" name="urlPost" placeholder="https://example.com" pattern="https://.*" size="20" class="form-control" id="url" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6 mb-3">
                <label for="tagsPost">Tags:</label>
                <input type="text" name="tagsPost" placeholder="Etiquetas" class="form-control" id="tags" required>
            </div>
            <div class="form-group col-md-6 mb-3">
                <label for="section">Trending Topic:</label>
                <select name="section" class="form-control" id="section" required>
                <option value="" selected></option>                    
                <option value="feedly">Feedly</option>
                <option value="twitter">Twitter</option>
                <option value="facebook">Facebook</option>
                </select>
            <!--id del partido es invisible, pero es el dato que requiere el votante para entrar a la BD-->
            <!-- <input type="text" id="numeroPartido" name="numeroPartido" hidden> -->
            <!--Número id de partido fin -->
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12 mb-6">
                <label for="textPost">Textos:</label>
                <!--<input type="textarea" name="textPost" placeholder="Mensaje de Texto" class="form-control" id="texto" required>-->
                <textarea class="form-control" id="texto" rows="3"></textarea>
            </div>
        </div>                
            <a class="btn btn-primary btn-block col-md-12 mb-3 active disabled" id="post" onclick="getVotante()">POST</a>
        </form>
        </div>
    
<!--LISTA OCULTA hasta que valide form -->
        <div class="col-md-6 d-none" id="to-post"> <!-- poner d-none para ocultar la lista antes de validar-->
            <div class="form-row">
                <div class="form-group col-md-12 mb-6">
                    <label for="toPost">To Post:</label>
                    <textarea class="form-control" id="toPost" rows="50"></textarea>
                </div>
            </div>                 
        </div>
    </div>
</div>

    <!-- form fin-->    
</main>

    
    <!--footer-->
    <footer class="container">
    <p class="float-right"><a href="#">Ir arriba</a></p>
    <p>© 2018 Form: To Post! · <span data-toggle="modal" data-target="#ayuda">¿Necesitas ayuda?</span> · <span data-toggle="modal" data-target="#exampleModalLong">Términos y Condiciones</span></p>
</footer>

<!-- Modal #ayuda -->
<div class="modal fade" id="ayuda" tabindex="-1" role="dialog" aria-labelledby="ayuda" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ayuda">Estamos para ayudarte</h5>
      </div>
      <div class="modal-body">
        <p>Bla bla bla</p>
          <p> ipsum dolor sit amet consectetur adipiscing elit torquent dui, lacus natoque etiam neque vestibulum eu mi quis pulvinar, taciti auctor justo orci facilisi dignissim conubia cum. Lacinia aptent montes mauris justo potenti primis semper vel maecenas sem, gravida dictum morbi cursus ante nisl dignissim taciti quisque facilisis, arcu est vivamus non varius dui nunc cras praesent.</p> <p>Eget vel duis commodo nulla platea orci libero ultricies, natoque arcu hendrerit suspendisse malesuada congue ut. Rhoncus bibendum orci diam tempus suscipit penatibus dignissim, turpis iaculis enim conubia ullamcorper mus tellus, suspendisse neque taciti fermentum egestas gravida. Sodales vivamus porttitor per magnis risus viverra tempus, vestibulum ullamcorper luctus consequat dictumst enim id, mauris commodo feugiat varius fringilla libero. Montes dapibus dis odio felis fringilla lectus rutrum tristique litora, nibh netus malesuada ornare nisl sapien vehicula ultrices magnis interdum, eleifend integer mauris sem consequat vel aliquet tellus.</p> <p>Porttitor enim ligula non duis urna eget eros orci, tincidunt aenean curae diam conubia cubilia nullam, ultrices iaculis mattis tortor sapien mi aptent. Non rutrum natoque commodo donec nostra, feugiat conubia orci gravida porttitor, cum ornare congue dui. Suscipit pretium ligula consequat inceptos sem sagittis dis ad, vestibulum hac ante ornare urna litora elementum, vivamus condimentum ut fames himenaeos mi tortor. Hac at dapibus gravida lectus massa vehicula litora euismod, fringilla justo dignissim ultrices orci scelerisque sodales, mattis vel venenatis ridiculus eu tristique magna. Vehicula aliquet nibh suscipit congue tortor eleifend urna, ultrices metus ligula habitant dignissim cras.</p>
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="location.href='https://wa.me/00000000009'">Contactar a una persona</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">Entendí todo, gracias!</button>
      </div>
    </div>
  </div>
</div>
    
<!-- Modal TOS -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Políticas de privacidad; términos y condiciones</h5>
      </div>
      <div class="modal-body">
        <p>Lorem ipsum dolor sit amet consectetur adipiscing elit torquent dui, lacus natoque etiam neque vestibulum eu mi quis pulvinar, taciti auctor justo orci facilisi dignissim conubia cum. Lacinia aptent montes mauris justo potenti primis semper vel maecenas sem, gravida dictum morbi cursus ante nisl dignissim taciti quisque facilisis, arcu est vivamus non varius dui nunc cras praesent.</p> <p>Eget vel duis commodo nulla platea orci libero ultricies, natoque arcu hendrerit suspendisse malesuada congue ut. Rhoncus bibendum orci diam tempus suscipit penatibus dignissim, turpis iaculis enim conubia ullamcorper mus tellus, suspendisse neque taciti fermentum egestas gravida. Sodales vivamus porttitor per magnis risus viverra tempus, vestibulum ullamcorper luctus consequat dictumst enim id, mauris commodo feugiat varius fringilla libero. Montes dapibus dis odio felis fringilla lectus rutrum tristique litora, nibh netus malesuada ornare nisl sapien vehicula ultrices magnis interdum, eleifend integer mauris sem consequat vel aliquet tellus.</p> <p>Porttitor enim ligula non duis urna eget eros orci, tincidunt aenean curae diam conubia cubilia nullam, ultrices iaculis mattis tortor sapien mi aptent. Non rutrum natoque commodo donec nostra, feugiat conubia orci gravida porttitor, cum ornare congue dui. Suscipit pretium ligula consequat inceptos sem sagittis dis ad, vestibulum hac ante ornare urna litora elementum, vivamus condimentum ut fames himenaeos mi tortor. Hac at dapibus gravida lectus massa vehicula litora euismod, fringilla justo dignissim ultrices orci scelerisque sodales, mattis vel venenatis ridiculus eu tristique magna. Vehicula aliquet nibh suscipit congue tortor eleifend urna, ultrices metus ligula habitant dignissim cras.</p> <p>Nostra et sodales justo nulla netus porta, risus convallis urna hendrerit augue lectus ridiculus, cras consequat iaculis libero turpis. Fames risus malesuada lacus curabitur nulla netus aenean, phasellus quis vehicula sagittis sed aliquet hendrerit accumsan, euismod placerat pharetra fermentum ad varius. Viverra mollis penatibus dis id convallis ac parturient tempus nibh, habitasse elementum donec sapien risus nulla litora hendrerit ullamcorper vulputate, facilisis bibendum ultrices duis malesuada feugiat potenti arcu. Tempor praesent est mi vel eros suscipit vivamus ac phasellus, fermentum primis nascetur ante sed sollicitudin congue volutpat penatibus, cum at libero eget platea interdum purus varius.</p> <p>Ligula turpis iaculis dictum justo molestie eu, montes fames ornare eros taciti, diam tortor lectus cubilia habitant. Blandit nisi nullam massa hendrerit etiam tristique ut, sagittis euismod primis aenean feugiat penatibus, natoque risus cum eget purus suscipit. Luctus suspendisse tincidunt ornare cras nunc velit praesent litora quis, dictumst porttitor mauris nisi quisque condimentum sed molestie primis, montes morbi congue fusce faucibus fames ad imperdiet. Fames blandit purus dis in habitant diam fusce scelerisque, vel vehicula molestie libero lectus id habitasse, natoque arcu proin condimentum pretium et lobortis.</p>
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="location.href='https://www.google.com'">No acepto</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">Acepto</button>
      </div>
    </div>
  </div>
</div>

<!-- Btstrap js -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<!-- Scripts propios -->    
<script>
$( document ).ready(function() {
$("#buscar").keyup(function () {
    var value = this.value.toLowerCase().trim();
    $("table tr").each(function (index) {
        if (!index) return;
        $(this).find("td").each(function () {
            var id = $(this).text().toLowerCase().trim();
            var not_found = (id.indexOf(value) == -1);
            $(this).closest('tr').toggle(!not_found);
            return not_found;
        });
    });
});
});
</script>

<script type='text/javascript'>
//Funciones JS
    document.getElementById("titulo").onchange = function() {validar()};
    document.getElementById("url").onchange = function() {validar()};
    document.getElementById("texto").onchange = function() {validar()};
    document.getElementById("tags").onchange = function() {validar()};
    document.getElementById("section").onchange = function() {validar()};
    
    
    
function validar() {
      var nom = document.getElementById('titulo');
      var ape = document.getElementById('url');
      var doc = document.getElementById('tags');
      var gen = document.getElementById('section');
      var txts = document.getElementById('texto');
      var v = document.getElementById("post");
      
    // control de titulo
        if (nom.value.length <= 0) { 
      nom.classList.add("invalid") 
      } else { nom.classList.remove("invalid") }
    
    // control de url
        if ((ape.value.length <= 0) || (!ape.checkValidity())) {
      ape.classList.add("invalid")
      } else { ape.classList.remove("invalid") }
    
    // control de tags
        if (doc.value.length <= 0) {
      doc.classList.add("invalid")  
      } else { doc.classList.remove("invalid") } 
      
    // control de section
        if (gen.value.length <= 0) {
      gen.classList.add("invalid")
      } else { gen.classList.remove("invalid") }

    // control de text
        if (txts.value.length <= 0) {
      txts.classList.add("invalid")
      } else { txts.classList.remove("invalid") }

    // finalmente habilito el botón si todo es válido
      if (nom.checkValidity() && ape.checkValidity() && doc.checkValidity() && gen.checkValidity() && txts.checkValidity()) { 
      v.classList.remove('disabled')
      } else { v.classList.add('disabled') }
}    

    function submit() {
    document.getElementById("form").submit();
    }

//Funciones JQuery
$(document).ready(function() { 

    $('tr').click(function (event) {
        $(this).addClass("selected").siblings().removeClass("selected");
        $('#numeroPartido').val($(this).attr('id'));          
    });

});

    function getVotante() {
            alert('Copia y pega para publicar');
            $('#to-post').removeClass('d-none');
            //$('.form-inline').removeClass('d-none');
        }

    </script>
<!-- fin scripts propios -->    
</body>
</html>
